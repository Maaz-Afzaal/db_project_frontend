{"ast":null,"code":"var _jsxFileName = \"/home/maazafzaal/maaz/Personal/universityscheduler/web/src/components/ToDo.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { getData } from \"./api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ToDo = props => {\n  _s();\n\n  const [todoDetails, setToDODetails] = useState(\"\");\n  const [todoDate, setToDODate] = useState(null);\n  const [insert, setInsert] = useState(false);\n  const [todoList, setTodoList] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  const handleToDoSubmit = async e => {\n    e.preventDefault();\n    const {\n      result,\n      error\n    } = await getData(\"/inserttodo\", \"POST\", {\n      p_id: props.userData.p_id,\n      details: todoDetails,\n      date: todoDate\n    });\n\n    if (error) {\n      setError(JSON.stringify(error));\n    } else if (result) {\n      setError(\"Todo added Successfuly\");\n    }\n  };\n\n  const getTodo = async () => {\n    const {\n      result,\n      error\n    } = await getData(`/gettodo/${props.userData.p_id}`, \"GET\");\n\n    if (error) {\n      setError(JSON.stringify(error));\n    } else if (result) {\n      setTodoList([...result.message]);\n    }\n  };\n\n  useEffect(() => {\n    setError(\"\");\n    getTodo();\n  }, [insert]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn btn-warning \",\n      onClick: () => {\n        setInsert(true);\n      },\n      children: \"Insert Todo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn btn-warning ms-3\",\n      onClick: () => {\n        setInsert(false);\n      },\n      children: \"See Todo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), insert && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          handleToDoSubmit(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Insert Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => {\n            setToDODetails(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          onChange: e => {\n            setToDODate(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-warning\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)\n    }, void 0, false), !insert && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [todoList.length > 0 && todoList.map((todo, i) => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"m-3 border border-primary\",\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 37\n              }, this), todo.details, /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 37\n              }, this), todo.todo_date.slice(10)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 33\n            }, this)\n          }, void 0, false);\n        }), todoList.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Nothing to Show\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border border-danger mt-3\",\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ToDo, \"OKLg1UjWJGFd7iitEhwMWpunG6c=\");\n\n_c = ToDo;\nexport default ToDo;\n\nvar _c;\n\n$RefreshReg$(_c, \"ToDo\");","map":{"version":3,"sources":["/home/maazafzaal/maaz/Personal/universityscheduler/web/src/components/ToDo.jsx"],"names":["React","useState","useEffect","getData","ToDo","props","todoDetails","setToDODetails","todoDate","setToDODate","insert","setInsert","todoList","setTodoList","error","setError","handleToDoSubmit","e","preventDefault","result","p_id","userData","details","date","JSON","stringify","getTodo","message","target","value","length","map","todo","i","todo_date","slice","color"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from \"react\";\nimport { getData } from \"./api\";\n\nconst ToDo=(props)=>{\n    const [todoDetails,setToDODetails]=useState(\"\");\n    const [todoDate,setToDODate]=useState(null);\n    const [insert,setInsert]=useState(false);\n    const [todoList,setTodoList]=useState([]);\n    const [error,setError]=useState(\"\")\n    const handleToDoSubmit=async (e)=>{\n        e.preventDefault();\n        const {result,error}=await getData(\"/inserttodo\",\"POST\",{p_id:props.userData.p_id,details:todoDetails,date:todoDate});\n        if(error){\n            setError(JSON.stringify(error));\n        }\n        else if(result){\n            setError(\"Todo added Successfuly\");\n        }\n    }\n    const getTodo=async ()=>{\n        const {result,error}=await getData(`/gettodo/${props.userData.p_id}`,\"GET\");\n        if(error){\n            setError(JSON.stringify(error));\n        }\n        else if(result){\n            setTodoList([...result.message]);\n        \n        }\n    }\n    useEffect(()=>{\n        setError(\"\")\n        getTodo();\n    },[insert])\n    return(\n        <>\n            \n            <div className=\"btn btn-warning \" onClick={()=>{setInsert(true)}}>Insert Todo</div>\n        <div className=\"btn btn-warning ms-3\" onClick={()=>{setInsert(false)}}>See Todo</div>\n        {\n            insert && <>\n                <form onSubmit={(e)=>{handleToDoSubmit(e)}}>\n                    <label>Insert Details</label>\n                    <input type={\"text\"} onChange={(e)=>{\n                        setToDODetails(e.target.value)\n                    }}/>\n                    <label>Date</label>\n                    <input type={\"date\"} onChange={(e)=>{\n                        setToDODate(e.target.value)\n                    }}/>\n                    <button className=\"btn btn-warning\" type=\"submit\">Submit</button>\n                </form>\n            </>\n        }\n        {\n            !insert && <>\n                <div>\n                    {todoList.length>0 && todoList.map((todo,i)=>{\n                        return(\n                            <>\n                                <div className=\"m-3 border border-primary\">\n                                    <b>Details:</b>{todo.details}\n                                    <b>Date:</b>{todo.todo_date.slice(10)}\n                                </div>\n                            </>\n                        )\n                    })}\n                    {todoList.length===0 && <div>Nothing to Show</div>}\n                </div>\n            </>\n        }\n         {\n                error &&  <div className=\"border border-danger mt-3\" style={{color:\"red\"}}>\n                {error}</div>\n            }\n        \n        </>\n          \n                         \n        \n            \n\n    )\n}\nexport default ToDo;"]},"metadata":{},"sourceType":"module"}